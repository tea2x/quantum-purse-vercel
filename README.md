# QuantumPurse
Quantum Purse is a front-end for the [CKB quantum resistant lock script project](https://github.com/cryptape/quantum-resistant-lock-script) that utilizes SPHINCS+ (remaned to fips205) signature scheme. It provides a tool set that allows users to generate/import BIP39 style mnemonic seed phrase, to create accounts and to sign CKB transaction (now limited to transfer only). CKB addresses generated by Quantum Purse are quantum safe and by transferring your asset to these addresses, your assets become Quantum Safe.

#### Illustration
```
+------------------+
|     Frontend     |  - User interacts here.
+------------------+
         ^
         |
         v
+------------------+
|  QuantumPurse.ts |  - Manages wallet logic (e.g., addresses, balances, transactions).
+------------------+
         ^
         |
         v
+------------------+
|   KeyVault(WASM) |  - Processes all key operations in a sandboxed environment:
|                  |    * Generates BIP39 mnemonic.
|                  |    * Derives SPHINCS+ key pairs..
|                  |    * Encrypts, Decrypts and signs transactions.
+------------------+
         ^
         |
         v
+------------------+
|    IndexedDB     |  - Stores sensitive data, always encrypted:
|                  |    * Encrypted BIP39 mnemonic.
|                  |    * Encrypted SPHINCS+ key pairs.
+------------------+
```
#### Indexed DB store model:

```
+---------------------------------+
|    seed_phrase_store(single)    |
+---------------------------------+
|  Key: "seed_phrase"             |
|  Value: CipherPayload           |
|        - salt: String           |
|        - iv: String             |
|        - cipher_text: String    |
+---------------------------------+


+---------------------------------+
|    child_keys_store(multiple)   |
+---------------------------------+
|  Key: pub_key (String)          |
|  Value: SphincsPlusKeyPair      |
|        - index: u32             |
|        - pub_key: String        |
|        - pri_enc: CipherPayload |
+---------------------------------+
```

## Prerequisited
1. Rust and Cargo, follow [this link](https://doc.rust-lang.org/cargo/getting-started/installation.html#:~:text=Install%20Rust%20and%20Cargo,rustup%20will%20also%20install%20cargo%20.) for installation.
2. wasm-pack, execute: `cargo install wasm-pack`.
3. Docker Engine/Desktop.
4. Node.

## How to use

```shell
# Install all dependencies
npm install

# Run test
npm run test

# Run in development env
npm run start

# Build a production package
npm run build

# Deploy the web app to your github
npm run deploy
```